# AOP常识

## 五大通知类型  
1. 前置通知 在目标方法执行前执行的通知 @Before  
2. 环绕通知 在目标方法执行之前和之后都可以执行额外代码的通知@Around  
3. 后置通知 在目标方法执行之后的执行的通知@AfterReturning  
4. 异常通知 在目标方法抛出异常时执行的通知@AfterThrowing  
5. 最终通知 在目标方法执行之后执行的通知 @After  
以上5种通知都可以额外接收一个JoinPoint参数，来获取目标对象和目标方法的相关信息，但一定要保证必须是第一个参数。  

执行顺序  

没有异常的情况  
前置通知-->环绕通知调用前的代码-->目标方法-->环绕通知调用后的代码-->后置通知-->最终通知
有异常的情况  

前置通知->环绕通知调用前的代码-->目标方法-->抛出异常-->异常通知-->最终通知
如果存在多个切面，采用了责任链的模式，切面的配置顺序决定了切面的执行顺序，类似方法的调用，在环绕通知proceed()执行时，去执行下一个切面。
  

使用@Aspect注解将一个java类 定义为切面类
使用@Pointcut 定义一个切入点，可以是一个规则表达式，比如某个package中的所有函数，也可以是一个注解等，根据需要在切入点不同位置的切入内容
同一个方法被多个Aspect类拦截时，可以使用@Order注解来指定顺序。  

## Spring AOP的实现方式  

1. 集成了AspectJ框架
2. ProxyFactory 代理工厂模式，其中既有JVM动态代理Proxy的实现，也有基于CGLIB的实现

### 作用  
